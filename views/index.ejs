<%- include('./layout/header.ejs') %>


<div class="container">
    <h1>文章列表</h1>
    <hr>
    <div class="list-group">
        <% articles.forEach(item => { %>
        <a href="/article/info/<%= item.id%>" class="list-group-item">
            <%= item.title%>
            <span class="badge" style="background-color:#5bc0de">发表时间:
                <%= item.ctime%></span>
            <span class="badge" style="background-color: #f0ad4e">作者名称:
                <%= item.nickname%></span>
        </a>
        <% }) %>
    </div>
    <nav aria-label="Page navigation">
        <ul class="pagination">
            <li>
                <% if(currentPage == 1){ %>
                    <span class="list-group-item disabled" aria-hidden="true">&laquo;</span>
                <% }else{ %>
                <a href="/?page=<%= currentPage < 1 ? 1 : currentPage-1%>" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
                <% } %>
            </li>
            <% for(var i = 1;i <= totalPage;i++){ %>
            <li class="<%= currentPage === i ? 'active' : ''  %>"><a href="/?page=<%= i%>"><%= i %></a></li>
            <% } %>
            <li>
                <% if(currentPage == totalPage){ %>
                    <span class="list-group-item disabled" aria-hidden="true">&raquo;</span>
                <% }else{ %>
                    <a href="/?page=<%= currentPage > totalPage ? totalPage : currentPage+1%>" aria-label="Previous">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                <% } %>
            </li>
        </ul>
    </nav>
</div>



<%- include('./layout/footer.ejs') %>